<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Year 7 Mathematics - Index Notation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .lesson-container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
            position: relative;
        }

        .lesson-header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            padding: 30px;
            text-align: center;
            color: white;
            position: relative;
            overflow: hidden;
        }

        .lesson-header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }

        .lesson-header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            position: relative;
            z-index: 1;
        }

        .lesson-header p {
            font-size: 1.2em;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 30px;
            background: rgba(79, 172, 254, 0.1);
            border-bottom: 1px solid #e0e0e0;
        }

        .nav-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        .nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .slide-counter {
            background: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: bold;
            color: #667eea;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .slide {
            display: none;
            padding: 40px;
            min-height: 500px;
            position: relative;
        }

        .slide.active {
            display: block;
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(30px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .slide h2 {
            color: #667eea;
            font-size: 2em;
            margin-bottom: 25px;
            text-align: center;
            position: relative;
        }

        .slide h2::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 4px;
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            border-radius: 2px;
        }

        .problem-box {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
            border-left: 5px solid #ff6b6b;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }

        .example-box {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
            border-left: 5px solid #4ecdc4;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }

        .answer-box {
            background: linear-gradient(135deg, #d299c2 0%, #fef9d7 100%);
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
            border-left: 5px solid #45b7d1;
            display: none;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }

        .answer-box.show {
            display: block;
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .interactive-btn {
            background: linear-gradient(135deg, #ff6b6b 0%, #ffa726 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            margin: 15px 10px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .interactive-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        .input-section {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
            border: 2px dashed #667eea;
        }

        .input-section input {
            width: 100%;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 16px;
            margin: 10px 0;
            transition: border-color 0.3s ease;
        }

        .input-section input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 10px rgba(102, 126, 234, 0.3);
        }

        .progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            width: 0%;
            height: 4px;
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            transition: width 0.3s ease;
            z-index: 1000;
        }

        .materials-list {
            background: linear-gradient(135deg, #ffeaa7 0%, #fab1a0 100%);
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            border-left: 5px solid #fdcb6e;
        }

        .materials-list ul {
            list-style: none;
            padding: 0;
        }

        .materials-list li {
            margin: 10px 0;
            padding-left: 30px;
            position: relative;
        }

        .materials-list li::before {
            content: '✓';
            position: absolute;
            left: 0;
            color: #00b894;
            font-weight: bold;
            font-size: 1.2em;
        }

        .math-expression {
            font-family: 'Courier New', monospace;
            font-size: 1.2em;
            background: rgba(102, 126, 234, 0.1);
            padding: 10px 15px;
            border-radius: 8px;
            margin: 10px 0;
            text-align: center;
            border: 2px solid rgba(102, 126, 234, 0.2);
        }

        .superscript {
            font-size: 0.8em;
            vertical-align: super;
            color: #ff6b6b;
            font-weight: bold;
        }

        .dice-section {
            text-align: center;
            margin: 20px 0;
        }

        .dice-button {
            background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 18px;
            font-weight: bold;
            margin: 10px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .dice-result {
            font-size: 3em;
            color: #667eea;
            margin: 20px 0;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        @media (max-width: 768px) {
            .lesson-container {
                margin: 10px;
                border-radius: 15px;
            }
            
            .slide {
                padding: 20px;
            }
            
            .lesson-header h1 {
                font-size: 2em;
            }
            
            .navigation {
                flex-wrap: wrap;
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="progress-bar" id="progressBar"></div>
    
    <div class="lesson-container">
        <div class="lesson-header">
            <h1>Year 7 Mathematics</h1>
            <p>Lesson 2 - Index Notation</p>
        </div>
        
        <div class="navigation">
            <button class="nav-btn" id="prevBtn" onclick="changeSlide(-1)">← Previous</button>
            <div class="slide-counter">
                <span id="currentSlide">1</span> / <span id="totalSlides">12</span>
            </div>
            <button class="nav-btn" id="nextBtn" onclick="changeSlide(1)">Next →</button>
        </div>

        <!-- Slide 1: Welcome -->
        <div class="slide active" id="slide1">
            <h2>Welcome to Math Lesson 2!</h2>
            <div class="input-section">
                <h3>Enter Your Name:</h3>
                <input type="text" id="studentName" placeholder="Type your name here..." style="font-size: 18px; text-align: center;">
                <button class="interactive-btn" onclick="setStudentName()">Start Lesson</button>
            </div>
            <div class="materials-list">
                <h3>You will need:</h3>
                <ul>
                    <li>A pencil, paper and ruler</li>
                    <li>10 sided die/dice (or use our interactive dice)</li>
                    <li>Place value chart with columns: ones, tens, hundreds, thousands, ten thousands, hundred thousands</li>
                </ul>
            </div>
            <div class="example-box">
                <h3>Learning Intention</h3>
                <p>To explore how to record numbers using index notation.</p>
            </div>
        </div>

        <!-- Slide 2: What We Learned Last Time -->
        <div class="slide" id="slide2">
            <h2>What Did We Learn Last Time?</h2>
            <div class="example-box">
                <h3>Review: Place Value</h3>
                <div class="math-expression" style="font-size: 1.5em;">
                    234,567
                </div>
                <p>The value of the <strong>3</strong> in this number is <strong>3 ten thousands</strong> or <strong>(3 × 10,000)</strong>.</p>
                <p>The value of the <strong>4</strong> in this number is <strong>4 hundreds</strong> or <strong>(4 × 100)</strong>.</p>
            </div>
            <div class="problem-box">
                <p>Remember: Each digit's value depends on its position in the number!</p>
            </div>
        </div>

        <!-- Slide 3: Warm Up Activity -->
        <div class="slide" id="slide3">
            <h2>Warm Up Activity - Dice Rolling</h2>
            <div class="problem-box">
                <h3>Instructions:</h3>
                <p>• Roll the die 6 times and record the numbers</p>
                <p>• Use your place value chart to make the highest possible number</p>
                <p>• Write the number in expanded notation</p>
                <p>• Repeat for 5, 4, 3, and 2 rolls</p>
            </div>
            <div class="dice-section">
                <button class="dice-button" onclick="rollDice(6)">Roll 6 Times</button>
                <button class="dice-button" onclick="rollDice(5)">Roll 5 Times</button>
                <button class="dice-button" onclick="rollDice(4)">Roll 4 Times</button>
                <div id="diceResults" class="dice-result"></div>
                <div id="highestNumber" class="math-expression"></div>
            </div>
            <div class="input-section">
                <input type="text" id="expandedResult" placeholder="Write your highest number in expanded notation...">
            </div>
        </div>

        <!-- Slide 4: Introduction to Index Notation -->
        <div class="slide" id="slide4">
            <h2>New Learning - Index Notation</h2>
            <div class="example-box">
                <h3>What does this mean?</h3>
                <div class="math-expression" style="font-size: 1.8em;">
                    2<span class="superscript">7</span> = 2 × 2 × 2 × 2 × 2 × 2 × 2
                </div>
                <div class="math-expression">
                    3<span class="superscript">2</span> = 3 × 3 = 9
                </div>
                <div class="math-expression">
                    5<span class="superscript">4</span> = 5 × 5 × 5 × 5
                </div>
                <div class="math-expression">
                    10<span class="superscript">20</span> = 154,000,000,000,000,000,000 = 1.54 × 10<span class="superscript">20</span>
                </div>
            </div>
        </div>

        <!-- Slide 5: Understanding Index Notation -->
        <div class="slide" id="slide5">
            <h2>What Would Mathematicians Mean?</h2>
            <div class="problem-box">
                <h3>Question:</h3>
                <div class="math-expression" style="font-size: 2em;">
                    3<span class="superscript">2</span>
                </div>
                <p>What would mathematicians mean if they wrote this?</p>
                <button class="interactive-btn" onclick="showIndexMeaning()">Show Answer</button>
            </div>
            <div class="answer-box" id="indexMeaning">
                <h3>Answer:</h3>
                <p><strong>3<span class="superscript">2</span> = 3 × 3 = 9</strong></p>
                <p>This means "3 to the power of 2" or "3 squared"</p>
            </div>
        </div>

        <!-- Slide 6: Index Notation Components -->
        <div class="slide" id="slide6">
            <h2>Parts of Index Notation</h2>
            <div class="example-box">
                <div class="math-expression" style="font-size: 2.5em;">
                    2<span class="superscript">6</span>
                </div>
                <div style="text-align: center; margin: 30px 0;">
                    <p><strong>2</strong> = base</p>
                    <p><strong>6</strong> = index or power or exponent</p>
                </div>
                <p>This number is read as <strong>"two to the power of six"</strong></p>
                <div class="math-expression">
                    2<span class="superscript">6</span> = 2 × 2 × 2 × 2 × 2 × 2 = 64
                </div>
                <p style="text-align: center; margin-top: 15px;">
                    <em>6 factors of 2 in this number</em>
                </p>
            </div>
        </div>

        <!-- Slide 7: Vocabulary -->
        <div class="slide" id="slide7">
            <h2>New Vocabulary</h2>
            <div class="example-box">
                <p>• The number that is being multiplied by itself is known as the <strong>'base'</strong>.</p>
                <p>• The number written above the base is known as the <strong>'index'</strong>, <strong>'power'</strong> or <strong>'exponent'</strong>.</p>
                <p>• The index is the number of times that the base must be multiplied by itself.</p>
            </div>
            <div class="problem-box">
                <h3>Examples of Reading Index Notation:</h3>
                <p><strong>5<span class="superscript">3</span></strong> is read as '5 to the power of 3' or '5 cubed'</p>
                <p><strong>2<span class="superscript">2</span></strong> is read as '2 to the power of 2' or '2 squared'</p>
                <p><strong>4<span class="superscript">4</span></strong> is read as '4 to the power of 4'</p>
            </div>
        </div>

        <!-- Slide 8: Your Turn - Practice -->
        <div class="slide" id="slide8">
            <h2>Your Turn</h2>
            <div class="problem-box">
                <h3>Calculate these:</h3>
                <p>a) 6<span class="superscript">2</span> = </p>
                <p>b) 3 × 3 × 3 × 3 × 3 × 3 = </p>
                <p>c) 4<span class="superscript">4</span> = </p>
                <p>d) 2 × 2 × 2 × 2 = </p>
                <p>e) __ × __ × __ = __<span class="superscript">3</span> = 343</p>
                <p>f) 5<span class="superscript">3</span> = </p>
            </div>
            <div class="input-section">
                <input type="text" id="answer_a" placeholder="a) 6² = ">
                <input type="text" id="answer_b" placeholder="b) 3 × 3 × 3 × 3 × 3 × 3 = 3^ = ">
                <input type="text" id="answer_c" placeholder="c) 4⁴ = ">
                <input type="text" id="answer_d" placeholder="d) 2 × 2 × 2 × 2 = 2^ = ">
                <input type="text" id="answer_e" placeholder="e) Missing number = ">
                <input type="text" id="answer_f" placeholder="f) 5³ = ">
                <button class="interactive-btn" onclick="checkYourTurn()">Check Answers</button>
            </div>
            <div class="answer-box" id="yourTurnAnswers">
                <h3>Answers:</h3>
                <p>a) 6<span class="superscript">2</span> = 36</p>
                <p>b) 3 × 3 × 3 × 3 × 3 × 3 = 3<span class="superscript">6</span> = 729</p>
                <p>c) 4<span class="superscript">4</span> = 4 × 4 × 4 × 4 = 256</p>
                <p>d) 2 × 2 × 2 × 2 = 2<span class="superscript">4</span> = 16</p>
                <p>e) 7 × 7 × 7 = 7<span class="superscript">3</span> = 343</p>
                <p>f) 5<span class="superscript">3</span> = 5 × 5 × 5 = 125</p>
            </div>
        </div>

        <!-- Slide 9: More Practice -->
        <div class="slide" id="slide9">
            <h2>More Practice</h2>
            <div class="problem-box">
                <h3>Convert these to index notation:</h3>
                <p>a) 8 × 8 × 8 = </p>
                <p>b) 9 × 9 = </p>
                <p>c) 10 × 10 × 10 × 10 × 10 = </p>
            </div>
            <div class="input-section">
                <input type="text" id="convert_a" placeholder="a) 8 × 8 × 8 = ">
                <input type="text" id="convert_b" placeholder="b) 9 × 9 = ">
                <input type="text" id="convert_c" placeholder="c) 10 × 10 × 10 × 10 × 10 = ">
                <button class="interactive-btn" onclick="checkConversion()">Check Answers</button>
            </div>
            <div class="answer-box" id="conversionAnswers">
                <h3>Answers:</h3>
                <p>a) 8 × 8 × 8 = 8<span class="superscript">3</span> = 512</p>
                <p>b) 9 × 9 = 9<span class="superscript">2</span> = 81</p>
                <p>c) 10 × 10 × 10 × 10 × 10 = 10<span class="superscript">5</span> = 100,000</p>
            </div>
        </div>

        <!-- Slide 10: Challenge Activity -->
        <div class="slide" id="slide10">
            <h2>Challenge Time!</h2>
            <div class="problem-box">
                <h3>Harder Problems:</h3>
                <p>1) If 2<span class="superscript">x</span> = 64, what is x?</p>
                <p>2) What is 3<span class="superscript">4</span> + 2<span class="superscript">3</span>?</p>
                <p>3) Which is larger: 5<span class="superscript">3</span> or 3<span class="superscript">5</span>?</p>
            </div>
            <div class="input-section">
                <input type="text" id="challenge_1" placeholder="1) x = ">
                <input type="text" id="challenge_2" placeholder="2) Answer = ">
                <input type="text" id="challenge_3" placeholder="3) Which is larger? ">
                <button class="interactive-btn" onclick="checkChallenge()">Check Answers</button>
            </div>
            <div class="answer-box" id="challengeAnswers">
                <h3>Answers:</h3>
                <p>1) x = 6 (because 2<span class="superscript">6</span> = 64)</p>
                <p>2) 3<span class="superscript">4</span> + 2<span class="superscript">3</span> = 81 + 8 = 89</p>
                <p>3) 3<span class="superscript">5</span> = 243 is larger than 5<span class="superscript">3</span> = 125</p>
            </div>
        </div>

        <!-- Slide 11: Quick Quiz -->
        <div class="slide" id="slide11">
            <h2>Quick Quiz</h2>
            <div class="problem-box" id="quizQuestion">
                <h3>Question 1 of 3</h3>
                <p>What does 7<span class="superscript">2</span> equal?</p>
                <button class="interactive-btn" onclick="selectAnswer('A')">A) 14</button>
                <button class="interactive-btn" onclick="selectAnswer('B')">B) 49</button>
                <button class="interactive-btn" onclick="selectAnswer('C')">C) 72</button>
            </div>
            <div class="answer-box" id="quizFeedback">
            </div>
        </div>

        <!-- Slide 12: Summary -->
        <div class="slide" id="slide12">
            <h2>Lesson Summary</h2>
            <div class="example-box">
                <h3>What we learned today:</h3>
                <ul style="text-align: left; padding-left: 20px;">
                    <li>Index notation is a shorthand for repeated multiplication</li>
                    <li>The base is the number being multiplied</li>
                    <li>The index/power/exponent shows how many times to multiply</li>
                    <li>2<span class="superscript">3</span> means 2 × 2 × 2</li>
                </ul>
            </div>
            <div class="problem-box">
                <h3>Keep practicing!</h3>
                <p>Index notation is fundamental to many areas of mathematics including algebra and scientific notation.</p>
                <p><strong>Excellent work today, <span id="finalStudentName">Student</span>!</strong></p>
            </div>
            <button class="interactive-btn" onclick="downloadWorkSummary()">📄 Download Work Summary</button>
            <button class="interactive-btn" onclick="resetLesson()">Start Over</button>
        </div>
    </div>

    <script>
        let currentSlideIndex = 0;
        const totalSlides = 12;
        let quizQuestion = 0;
        let studentName = '';
        let studentAnswers = {};
        
        const quizData = [
            {
                question: "What does 7² equal?",
                options: ["A) 14", "B) 49", "C) 72"],
                correct: "B",
                explanation: "Correct! 7² = 7 × 7 = 49"
            },
            {
                question: "What is 4³?",
                options: ["A) 12", "B) 16", "C) 64"],
                correct: "C",
                explanation: "Correct! 4³ = 4 × 4 × 4 = 64"
            },
            {
                question: "How do you write 5 × 5 × 5 × 5 in index notation?",
                options: ["A) 5⁴", "B) 4⁵", "C) 5×4"],
                correct: "A",
                explanation: "Correct! 5 × 5 × 5 × 5 = 5⁴"
            }
        ];

        function updateSlideDisplay() {
            const slides = document.querySelectorAll('.slide');
            slides.forEach(slide => slide.classList.remove('active'));
            
            document.getElementById(`slide${currentSlideIndex + 1}`).classList.add('active');
            
            document.getElementById('currentSlide').textContent = currentSlideIndex + 1;
            
            const progress = ((currentSlideIndex + 1) / totalSlides) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            
            document.getElementById('prevBtn').disabled = currentSlideIndex === 0;
            document.getElementById('nextBtn').disabled = currentSlideIndex === totalSlides - 1;
            
            if (currentSlideIndex === 11 && studentName) {
                document.getElementById('finalStudentName').textContent = studentName;
            }
        }

        function changeSlide(direction) {
            const newIndex = currentSlideIndex + direction;
            if (newIndex >= 0 && newIndex < totalSlides) {
                currentSlideIndex = newIndex;
                updateSlideDisplay();
            }
        }

        function setStudentName() {
            const name = document.getElementById('studentName').value.trim();
            if (name) {
                studentName = name;
                studentAnswers.studentName = name;
                studentAnswers.date = new Date().toLocaleDateString();
                document.querySelector('.lesson-header p').textContent = `Lesson 2 - Index Notation - ${name}`;
                changeSlide(1);
            } else {
                alert('Please enter your name to continue!');
            }
        }

        function rollDice(times) {
            let results = [];
            for (let i = 0; i < times; i++) {
                results.push(Math.floor(Math.random() * 10) + 1);
            }
            
            // Sort in descending order to make highest number
            results.sort((a, b) => b - a);
            const highest = results.join('');
            
            document.getElementById('diceResults').innerHTML = `
                <p>Rolled: ${results.join(', ')}</p>
            `;
            document.getElementById('highestNumber').innerHTML = `
                <p>Highest Number: <strong>${highest}</strong></p>
            `;
            
            studentAnswers[`diceRoll${times}`] = results.join(',');
            studentAnswers[`highest${times}`] = highest;
        }

        function showIndexMeaning() {
            document.getElementById('indexMeaning').classList.add('show');
        }

        function checkYourTurn() {
            studentAnswers.yourTurn_a = document.getElementById('answer_a').value;
            studentAnswers.yourTurn_b = document.getElementById('answer_b').value;
            studentAnswers.yourTurn_c = document.getElementById('answer_c').value;
            studentAnswers.yourTurn_d = document.getElementById('answer_d').value;
            studentAnswers.yourTurn_e = document.getElementById('answer_e').value;
            studentAnswers.yourTurn_f = document.getElementById('answer_f').value;
            
            document.getElementById('yourTurnAnswers').classList.add('show');
        }

        function checkConversion() {
            studentAnswers.convert_a = document.getElementById('convert_a').value;
            studentAnswers.convert_b = document.getElementById('convert_b').value;
            studentAnswers.convert_c = document.getElementById('convert_c').value;
            
            document.getElementById('conversionAnswers').classList.add('show');
        }

        function checkChallenge() {
            studentAnswers.challenge_1 = document.getElementById('challenge_1').value;
            studentAnswers.challenge_2 = document.getElementById('challenge_2').value;
            studentAnswers.challenge_3 = document.getElementById('challenge_3').value;
            
            document.getElementById('challengeAnswers').classList.add('show');
        }

        function selectAnswer(selected) {
            const current = quizData[quizQuestion];
            const feedback = document.getElementById('quizFeedback');
            
            if (selected === current.correct) {
                feedback.innerHTML = `<h3>🎉 ${current.explanation}</h3>`;
                feedback.style.background = 'linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)';
            } else {
                feedback.innerHTML = `<h3>❌ Not quite right.</h3><p>${current.explanation}</p>`;
                feedback.style.background = 'linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)';
            }
            
            feedback.classList.add('show');
            
            setTimeout(() => {
                quizQuestion++;
                if (quizQuestion < quizData.length) {
                    loadNextQuizQuestion();
                } else {
                    showQuizComplete();
                }
            }, 2000);
        }

        function loadNextQuizQuestion() {
            const current = quizData[quizQuestion];
            document.getElementById('quizQuestion').innerHTML = `
                <h3>Question ${quizQuestion + 1} of ${quizData.length}</h3>
                <p>${current.question}</p>
                <button class="interactive-btn" onclick="selectAnswer('A')">${current.options[0]}</button>
                <button class="interactive-btn" onclick="selectAnswer('B')">${current.options[1]}</button>
                <button class="interactive-btn" onclick="selectAnswer('C')">${current.options[2]}</button>
            `;
            document.getElementById('quizFeedback').classList.remove('show');
        }

        function showQuizComplete() {
            document.getElementById('quizQuestion').innerHTML = `
                <h3>🎉 Quiz Complete!</h3>
                <p>Great job working through the index notation problems!</p>
                <button class="interactive-btn" onclick="resetQuiz()">Try Again</button>
            `;
            document.getElementById('quizFeedback').classList.remove('show');
        }

        function resetQuiz() {
            quizQuestion = 0;
            loadNextQuizQuestion();
        }

        function resetLesson() {
            currentSlideIndex = 0;
            quizQuestion = 0;
            studentName = '';
            studentAnswers = {};
            updateSlideDisplay();
            
            const inputs = document.querySelectorAll('input');
            inputs.forEach(input => input.value = '');
            
            const answerBoxes = document.querySelectorAll('.answer-box');
            answerBoxes.forEach(box => box.classList.remove('show'));
            
            document.querySelector('.lesson-header p').textContent = 'Lesson 2 - Index Notation';
        }

        function downloadWorkSummary() {
            if (!studentName) {
                alert('Please complete the lesson first!');
                return;
            }

            const summary = `
MATHEMATICS LESSON 2 - INDEX NOTATION
Student: ${studentAnswers.studentName}
Date: ${studentAnswers.date}
========================================

WARM-UP ACTIVITY - Dice Rolling
6 Dice Rolls: ${studentAnswers.diceRoll6 || 'Not completed'}
Highest 6-digit number: ${studentAnswers.highest6 || 'Not completed'}

5 Dice Rolls: ${studentAnswers.diceRoll5 || 'Not completed'}
Highest 5-digit number: ${studentAnswers.highest5 || 'Not completed'}

4 Dice Rolls: ${studentAnswers.diceRoll4 || 'Not completed'}
Highest 4-digit number: ${studentAnswers.highest4 || 'Not completed'}

Expanded notation written: ${studentAnswers.expandedResult || 'Not answered'}

YOUR TURN EXERCISES
Question: 6² = 
Answer: ${studentAnswers.yourTurn_a || 'Not answered'}
Correct Answer: 36

Question: 3 × 3 × 3 × 3 × 3 × 3 = 
Answer: ${studentAnswers.yourTurn_b || 'Not answered'}
Correct Answer: 3⁶ = 729

Question: 4⁴ = 
Answer: ${studentAnswers.yourTurn_c || 'Not answered'}
Correct Answer: 256

Question: 2 × 2 × 2 × 2 = 
Answer: ${studentAnswers.yourTurn_d || 'Not answered'}
Correct Answer: 2⁴ = 16

Question: __ × __ × __ = __³ = 343
Answer: ${studentAnswers.yourTurn_e || 'Not answered'}
Correct Answer: 7

Question: 5³ = 
Answer: ${studentAnswers.yourTurn_f || 'Not answered'}
Correct Answer: 125

CONVERSION PRACTICE
Question: 8 × 8 × 8 = 
Answer: ${studentAnswers.convert_a || 'Not answered'}
Correct Answer: 8³ = 512

Question: 9 × 9 = 
Answer: ${studentAnswers.convert_b || 'Not answered'}
Correct Answer: 9² = 81

Question: 10 × 10 × 10 × 10 × 10 = 
Answer: ${studentAnswers.convert_c || 'Not answered'}
Correct Answer: 10⁵ = 100,000

CHALLENGE QUESTIONS
Question: If 2ˣ = 64, what is x?
Answer: ${studentAnswers.challenge_1 || 'Not answered'}
Correct Answer: x = 6

Question: What is 3⁴ + 2³?
Answer: ${studentAnswers.challenge_2 || 'Not answered'}
Correct Answer: 89

Question: Which is larger: 5³ or 3⁵?
Answer: ${studentAnswers.challenge_3 || 'Not answered'}
Correct Answer: 3⁵ = 243

========================================
Lesson completed on: ${new Date().toLocaleString()}
            `.trim();

            const blob = new Blob([summary], { type: 'text/plain' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            const date = new Date().toISOString().split('T')[0];
            a.href = url;
            a.download = `${studentName.replace(/\s+/g, '_')}_Math_Lesson2_${date}.txt`;
            document.body.appendChild(a);
            a.click();
            window.URL.revokeObjectURL(url);
            document.body.removeChild(a);
        }

        // Keyboard navigation
        document.addEventListener('keydown', function(event) {
            if (event.key === 'ArrowRight' || event.key === ' ') {
                event.preventDefault();
                changeSlide(1);
            } else if (event.key === 'ArrowLeft') {
                event.preventDefault();
                changeSlide(-1);
            } else if (event.key === 'Home') {
                event.preventDefault();
                currentSlideIndex = 0;
                updateSlideDisplay();
            } else if (event.key === 'End') {
                event.preventDefault();
                currentSlideIndex = totalSlides - 1;
                updateSlideDisplay();
            }
        });

        // Enter key on input fields
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Enter' && event.target.tagName === 'INPUT') {
                const activeSlide = document.querySelector('.slide.active');
                const button = activeSlide.querySelector('.interactive-btn');
                if (button) {
                    button.click();
                }
            }
        });

        // Touch/swipe support
        let touchStartX = 0;
        let touchEndX = 0;

        document.addEventListener('touchstart', function(event) {
            touchStartX = event.changedTouches[0].screenX;
        });

        document.addEventListener('touchend', function(event) {
            touchEndX = event.changedTouches[0].screenX;
            handleSwipe();
        });

        function handleSwipe() {
            const swipeThreshold = 50;
            const diff = touchStartX - touchEndX;
            
            if (Math.abs(diff) > swipeThreshold) {
                if (diff > 0) {
                    changeSlide(1);
                } else {
                    changeSlide(-1);
                }
            }
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            updateSlideDisplay();
            document.getElementById('totalSlides').textContent = totalSlides;
        });
    </script>
</body>
</html>